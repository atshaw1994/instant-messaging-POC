<div class="container mx-auto p-8">
    <div class="flex items-center mb-4 justify-center">
        <%= link_to "← Back", chats_path, class: "mr-4 text-blue-600 hover:underline font-semibold" %>
        <h1 class="text-3xl font-bold mb-6 text-center">Start a New Chat</h1>
    </div>
    <% if @users.any? %>
        <%= form_with model: @chat, url: chats_path do |f| %>
            <div class="mb-4">
                <%= f.label :receiver_id, "Select User to Chat With", class: "block text-gray-700 font-semibold mb-2" %>
                <%= f.select :receiver_id, options_from_collection_for_select(@users, :id, :display_name), { prompt: "Choose a user" }, class: "w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" %>
            </div>
            <div>
                <%= f.submit "Start Chat", class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow transition duration-150" %>
            </div>
        <% end %>
    <% else %>
        <div class="text-center mt-12">
            <p class="text-center text-gray-600">No users available to chat.</p>
        </div>
    <% end %>
</div>